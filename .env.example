# ============================================================
# CIAM Claims PoC — Environment Variables
# ============================================================
# Copy this file to .env and fill in your values.
# .env is gitignored — never commit secrets.
# ============================================================

# --- Keycloak (Phase Two) ---
KEYCLOAK_BASE_URL=https://your-deployment.phasetwo.io
KEYCLOAK_REALM=your-realm-name
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=your-admin-password

# --- Keycloak OIDC (derived — used by both apps) ---
KEYCLOAK_ISSUER_URI=https://your-deployment.phasetwo.io/realms/your-realm-name

# --- Social Providers (for Keycloak brokering) ---
# Leave blank to skip a provider during CIAM setup
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=

# --- Keycloak Client: BFF (Next.js server-side auth) ---
# Created by CIAM setup scripts. Fill in after running them.
KEYCLOAK_BFF_CLIENT_ID=poc-bff
KEYCLOAK_BFF_CLIENT_SECRET=

# --- Keycloak Client: Backend Service (client credentials) ---
# Created by CIAM setup scripts. Fill in after running them.
KEYCLOAK_BACKEND_CLIENT_ID=poc-backend
KEYCLOAK_BACKEND_CLIENT_SECRET=

# --- Supabase PostgreSQL ---
# Use pooler host (not direct). Must include prepareThreshold=0 for transaction pooling.
SUPABASE_JDBC_URL=jdbc:postgresql://aws-1-us-east-2.pooler.supabase.com:6543/postgres?sslmode=require&prepareThreshold=0
SUPABASE_DB_USER=postgres.your-project-ref
SUPABASE_DB_PASSWORD=
SUPABASE_DB_SCHEMA=ciam-demo-2026-02

# --- Next.js ---
AUTH_SECRET=generate-a-random-32-char-string-here
AUTH_URL=http://localhost:3000
AUTH_TRUST_HOST=true
BACKEND_URL=http://localhost:8080

# --- Production Overrides (for deployment) ---
# AUTH_URL=http://your-host:3001
# BACKEND_URL=http://your-host:8080
